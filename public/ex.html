<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>RUK√â ‚Ä¢ Godmode ‚Äî Strict</title>

<!-- Tailwind CDN -->
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>

<style>
  /* tiny niceties */
  .msg-enter { animation: msgIn .18s ease both; }
  @keyframes msgIn { from { opacity:0; transform:translateY(8px) } to { opacity:1; transform:translateY(0) } }
  .tool-fade { opacity:0; transform:translateY(6px); transition:all .14s ease; }
  .msg-wrap:hover .tool-fade { opacity:1; transform:translateY(0); }
  .typing-dots span { display:inline-block; width:6px; height:6px; background:#cbd5e1; border-radius:999px; margin:0 3px; animation:blink 1s infinite; }
  .typing-dots span:nth-child(2){ animation-delay:.15s } .typing-dots span:nth-child(3){ animation-delay:.3s }
  @keyframes blink { 0%,80%,100%{opacity:0} 40%{opacity:1} }
  /* ensure chat area uses full viewport minus header */
  .chat-panel { height: calc(100vh - 96px); } /* header 64 + padding ~32 */
</style>
</head>
<body class="bg-gray-900 text-gray-100">

<!-- HEADER -->
<header class="bg-gray-800 border-b border-gray-700 fixed top-0 left-0 right-0 z-50">
  <div class="container mx-auto flex items-center justify-between px-4 py-3" style="max-width:1280px;">
    <div class="flex items-center gap-3">
      <button id="sidebar-toggle" class="md:hidden p-2 rounded bg-gray-700" title="Toggle menu">
        <i class="fa fa-bars"></i>
      </button>
      <img src="https://picsum.photos/48" alt="logo" class="h-10 w-10 rounded-full object-cover"/>
      <div class="text-lg font-semibold tracking-wider">RUK√â AI ‚Äî GODMODE</div>
    </div>
    <div class="text-sm text-gray-400 hidden sm:block">Dedicated Assistant ‚Äî Strict Mode</div>
  </div>
</header>

<!-- MAIN -->
<main class="container mx-auto px-4 pt-24" style="max-width:1280px;">
  <div class="flex gap-6">

    <!-- SIDEBAR -->
    <aside id="sidebar" class="w-72 flex-shrink-0">
      <div class="bg-gray-800 border border-gray-700 rounded-2xl overflow-hidden shadow-lg">
        <div class="flex items-center justify-between px-4 py-3 border-b border-gray-700">
          <div class="uppercase text-xs text-gray-400 tracking-widest">Conversations</div>
          <div class="flex gap-2">
            <button id="new-chat" class="bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded-md text-sm flex items-center gap-2">
              <i class="fa fa-plus"></i> New
            </button>
          </div>
        </div>

        <div id="session-list" class="max-h-[62vh] overflow-y-auto p-3 space-y-2"></div>

        <div class="px-4 py-3 border-t border-gray-700 text-xs text-gray-400">
          <div class="mb-1">Tip: Click rename ‚Üí press Enter or click outside.</div>
        </div>
      </div>
    </aside>

    <!-- CHAT COLUMN -->
    <section class="flex-1 min-w-0">
      <div class="bg-gradient-to-b from-gray-800 to-gray-900 border border-gray-700 rounded-2xl shadow-lg flex flex-col overflow-hidden chat-panel">

        <!-- header -->
        <div class="flex items-center justify-between px-4 py-3 border-b border-gray-700">
          <div class="flex items-center gap-3">
            <div class="w-3 h-3 rounded-full bg-green-500 ring-2 ring-green-400/20"></div>
            <div class="font-semibold">RUK√â AI ‚Ä¢ Online</div>
            <div class="ml-3 text-xs text-gray-400 hidden sm:block">Strict ‚Äî Production</div>
          </div>

          <div class="flex items-center gap-2">
            <button id="export-md" class="px-2 py-1 rounded border border-gray-700 text-sm hover:bg-gray-800" title="Export session as Markdown">
              <i class="fa fa-file-export"></i>
            </button>
            <button id="clear-chat" class="px-2 py-1 rounded border border-red-700 text-red-400 hover:bg-red-900/10" title="Clear current chat">
              <i class="fa fa-trash"></i>
            </button>
          </div>
        </div>

        <!-- quick chips -->
        <div class="px-4 py-2 border-b border-gray-700 flex gap-2 flex-wrap bg-gray-900">
          <button class="quick-chip text-xs px-3 py-1 rounded border border-gray-700 hover:bg-gray-800">Summarize any article</button>
          <button class="quick-chip text-xs px-3 py-1 rounded border border-gray-700 hover:bg-gray-800">Brainstorm brand names</button>
          <button class="quick-chip text-xs px-3 py-1 rounded border border-gray-700 hover:bg-gray-800">Improve paragraph</button>
          <button class="quick-chip text-xs px-3 py-1 rounded border border-gray-700 hover:bg-gray-800">Act as senior dev</button>
        </div>

        <!-- chat box -->
        <div id="chat-box" class="flex-1 overflow-y-auto p-4 space-y-3 scroll-smooth">
          <!-- JS will render messages -->
        </div>

        <!-- toolbar -->
        <div class="border-t border-gray-700 bg-gray-900 p-3">
          <div class="flex items-center justify-between gap-3 mb-2">
            <div class="flex items-center gap-3 text-sm text-gray-300">
              <label class="text-xs">Model</label>
              <select id="model" class="bg-gray-800 border border-gray-700 rounded px-2 py-1 text-sm">
                <option value="gemini-1.5-flash">gemini-1.5-flash</option>
                <option value="gemini-1.5-pro">gemini-1.5-pro</option>
              </select>

              <label class="text-xs">Temp</label>
              <input id="temp" type="range" min="0" max="1" step="0.1" value="0.7" class="h-1">
              <div id="tempv" class="text-xs text-gray-400 w-8 text-center">0.7</div>
            </div>

            <div id="status" class="text-xs text-gray-400">Ready</div>
          </div>

          <div class="flex items-center gap-3">
            <button id="stop-btn" class="hidden bg-red-700 text-white px-3 py-2 rounded-md text-sm"><i class="fa fa-stop"></i> Stop</button>
            <input id="user-input" placeholder="Type a message‚Ä¶ (try /help)" class="flex-1 bg-gray-800 border border-gray-700 rounded-md px-3 py-2 text-sm focus:outline-none" />
            <button id="send-btn" class="bg-blue-600 px-3 py-2 rounded-md text-white text-sm"><i class="fa fa-paper-plane"></i> Send</button>
          </div>
        </div>

      </div>
    </section>
  </div>
</main>

<script>
/* ====================================================
  RUK√â ‚Äî Strict final client-only HTML/CSS/JS
  IMPORTANT SECURITY NOTE:
  - This client MUST NOT contain your Gemini API key.
  - The client calls a proxy endpoint at /api/generate which you must host server-side.
  - If you cannot run a small proxy, do NOT put API keys into the browser.
  ==================================================== */

/* --------------- State & Storage --------------- */
const STORAGE_KEY = "ruke_sessions_v3";
let sessions = JSON.parse(localStorage.getItem(STORAGE_KEY) || "[]");
let activeSessionId = null;
let abortController = null;
let currentStreaming = false;

/* --------------- Elements --------------- */
const el = {
  sidebar: document.getElementById("sidebar"),
  sidebarToggle: document.getElementById("sidebar-toggle"),
  sessionList: document.getElementById("session-list"),
  newChatBtn: document.getElementById("new-chat"),
  chatBox: document.getElementById("chat-box"),
  userInput: document.getElementById("user-input"),
  sendBtn: document.getElementById("send-btn"),
  stopBtn: document.getElementById("stop-btn"),
  modelSel: document.getElementById("model"),
  tempRange: document.getElementById("temp"),
  tempVal: document.getElementById("tempv"),
  status: document.getElementById("status"),
  exportMd: document.getElementById("export-md"),
  clearChat: document.getElementById("clear-chat")
};

/* --------------- Utilities --------------- */
function now(){ return new Date().toLocaleTimeString([], {hour:'2-digit', minute:'2-digit'}); }
function escapeHTML(s){ return String(s).replace(/[&<>"']/g, m=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'})[m]); }
function save(){ localStorage.setItem(STORAGE_KEY, JSON.stringify(sessions)); }
function getActive(){ return sessions.find(s => s.id === activeSessionId); }
function id(prefix='id'){ return prefix + "_" + Math.random().toString(36).slice(2,9); }
function setStatus(t){ el.status.textContent = t; }

/* --------------- Session CRUD --------------- */
function createSession(name="New Chat"){
  const s = { id: id('sess'), name, history: [] };
  sessions.unshift(s);
  activeSessionId = s.id;
  save(); renderSessions(); loadSession(s);
  addBotMessage("New secure session started. How can I help?", {auto:true});
  return s;
}

function deleteSession(sessId){
  if(!confirm("Delete conversation permanently?")) return;
  sessions = sessions.filter(s => s.id !== sessId);
  if(activeSessionId === sessId) activeSessionId = sessions[0]?.id || null;
  save(); renderSessions(); loadSession(getActive());
}

function renameSession(sessId, newName){
  const s = sessions.find(x=>x.id===sessId); if(!s) return;
  s.name = String(newName).slice(0,120); save(); renderSessions();
}

function renderSessions(){
  el.sessionList.innerHTML = "";
  sessions.forEach(s => {
    const row = document.createElement("div");
    row.className = "flex items-center justify-between p-2 rounded-md hover:bg-gray-800 cursor-pointer";
    row.innerHTML = `
      <div class="flex-1">
        <div class="sess-name text-sm truncate">${escapeHTML(s.name)}</div>
        <div class="text-xs text-gray-400 mt-0.5">${new Date(s.history[0]?.time || Date.now()).toLocaleDateString()}</div>
      </div>
      <div class="ml-2 flex gap-1">
        <button class="rename inline-flex items-center px-2 py-1 text-xs rounded bg-gray-700 hover:bg-gray-600" title="Rename">‚úèÔ∏è</button>
        <button class="delete inline-flex items-center px-2 py-1 text-xs rounded bg-red-700 hover:bg-red-600" title="Delete">üóëÔ∏è</button>
      </div>
    `;
    row.addEventListener("click", (ev)=>{
      if(ev.target.closest(".rename") || ev.target.closest(".delete")) return;
      activeSessionId = s.id; save(); renderSessions(); loadSession(s);
    });

    row.querySelector(".rename").addEventListener("click", (e)=>{
      e.stopPropagation();
      inlineRename(s, row.querySelector(".sess-name"));
    });

    row.querySelector(".delete").addEventListener("click", (e)=>{
      e.stopPropagation();
      deleteSession(s.id);
    });

    if(s.id === activeSessionId) row.classList.add("bg-gray-800", "ring-1", "ring-blue-700");
    el.sessionList.appendChild(row);
  });

  if(sessions.length === 0) createSession("New Chat");
}

/* inline rename */
function inlineRename(sess, nameEl){
  const old = sess.name;
  const input = document.createElement("input");
  input.type = "text"; input.value = old;
  input.className = "w-full bg-gray-800 border border-gray-700 rounded px-2 py-1 text-sm";
  nameEl.replaceWith(input);
  input.focus(); input.select();
  const finish = () => { const val = input.value.trim() || "Untitled"; renameSession(sess.id, val); renderSessions(); };
  input.addEventListener("blur", finish);
  input.addEventListener("keydown", (e)=>{ if(e.key==='Enter'){ input.blur(); } if(e.key==='Escape'){ renameSession(sess.id, old); renderSessions(); }});
}

/* --------------- Messages & Rendering --------------- */
function renderMessage(msg){
  const wrap = document.createElement("div");
  wrap.className = "msg-wrap msg-enter flex items-start gap-3";
  wrap.dataset.msgId = msg.id;

  const avatar = document.createElement("div");
  avatar.className = "w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0";
  avatar.innerHTML = msg.type === "bot" ? '<i class="fa fa-robot"></i>' : '<i class="fa fa-user"></i>';
  avatar.classList.add(msg.type === "bot" ? "bg-blue-700" : "bg-gray-700", "text-white");

  const bubble = document.createElement("div");
  bubble.className = "bg-gray-800 p-3 rounded-xl max-w-[78%] text-sm relative";
  bubble.innerHTML = `<div class="content">${escapeHTML(msg.text||"")}</div>
                      <div class="text-xs text-gray-400 mt-2">${new Date(msg.time||Date.now()).toLocaleTimeString([], {hour:'2-digit',minute:'2-digit'})}</div>`;

  const tools = document.createElement("div");
  tools.className = "flex gap-2 items-center tool-fade ml-2";
  tools.innerHTML = `
    <button class="copy px-2 py-1 text-xs rounded bg-gray-700 hover:bg-gray-600" title="Copy"><i class="fa fa-copy"></i></button>
    ${msg.type === "bot" ? `<button class="regen px-2 py-1 text-xs rounded bg-gray-700 hover:bg-gray-600" title="Regenerate"><i class="fa fa-rotate-right"></i></button>` : ""}
    <button class="del px-2 py-1 text-xs rounded bg-red-700 hover:bg-red-600" title="Delete"><i class="fa fa-trash"></i></button>
  `;

  if(msg.type === "user"){
    wrap.appendChild(bubble); wrap.appendChild(avatar); wrap.appendChild(tools);
  } else {
    wrap.appendChild(avatar); wrap.appendChild(bubble); wrap.appendChild(tools);
  }

  // handlers
  tools.querySelector(".copy").addEventListener("click", (e)=>{ e.stopPropagation(); navigator.clipboard.writeText(msg.text).then(()=> flash("Copied")); });
  tools.querySelector(".del").addEventListener("click", (e)=>{ e.stopPropagation(); deleteMessage(msg.id); });

  const regenBtn = tools.querySelector(".regen");
  if(regenBtn){
    regenBtn.addEventListener("click", async (e)=>{
      e.stopPropagation();
      const s = getActive(); if(!s) return;
      const idx = s.history.findIndex(h=>h.id===msg.id);
      // find preceding user message
      let prompt = null;
      for(let i=idx-1;i>=0;i--){ if(s.history[i].type === "user"){ prompt = s.history[i].text; break; } }
      if(!prompt){ alert("No preceding user prompt found to regenerate."); return; }
      await regenerateMessage(msg.id, prompt, wrap);
    });
  }

  el.chatBox.appendChild(wrap);
  el.chatBox.scrollTop = el.chatBox.scrollHeight;
}

/* add user message & push to session */
function addUserMessage(text){
  const s = getActive(); if(!s) { flash("No active session"); return; }
  const m = { id: id('m'), type: 'user', text, time: Date.now() };
  s.history.push(m); save(); renderMessage(m);
  if((s.name||"").startsWith("New") && text.length) renameSession(s.id, text.slice(0,48));
}

/* add bot message placeholder (used for streaming) */
function addBotMessage(text, opts = {}){
  const s = getActive(); if(!s) { flash("No active session"); return; }
  const m = { id: id('m'), type: 'bot', text, time: Date.now(), meta: opts };
  s.history.push(m); save(); renderMessage(m);
  return m;
}

/* delete message */
function deleteMessage(msgId){
  const s = getActive(); if(!s) return;
  const idx = s.history.findIndex(h=>h.id===msgId);
  if(idx === -1) return;
  if(!confirm("Delete this message?")) return;
  s.history.splice(idx,1); save();
  const node = el.chatBox.querySelector(`[data-msg-id="${msgId}"]`);
  if(node) node.remove();
}

/* load session into DOM */
function loadSession(sess){
  el.chatBox.innerHTML = "";
  if(!sess) return;
  sess.history.forEach(h=> renderMessage(h) );
  setTimeout(()=> el.chatBox.scrollTop = el.chatBox.scrollHeight, 40);
}

/* --------------- Networking: Gemini proxy fetch + typewriter --------------- */
/*
  IMPORTANT: This client calls POST /api/generate
  - You must host an authenticated server proxy at /api/generate that accepts:
    { prompt, model, temperature } and returns { text } JSON.
  - Do NOT put your Gemini API key here in the browser.
*/

async function fetchGeminiAndType(prompt, { model, temperature } = {}){
  const s = getActive(); if(!s) return;
  // create placeholder bot item
  const placeholder = { id: id('m'), type: 'bot', text: '', time: Date.now(), meta: { sourcePrompt: prompt } };
  s.history.push(placeholder); save(); renderMessage(placeholder);
  const dom = el.chatBox.querySelector(`[data-msg-id="${placeholder.id}"]`);
  const contentDiv = dom?.querySelector(".content");
  if(!contentDiv) return;

  // abort previous
  if(abortController){ try{ abortController.abort(); }catch(e){} abortController = null; }
  abortController = new AbortController();
  const signal = abortController.signal;
  el.stopBtn.classList.remove("hidden"); setStatus("Generating‚Ä¶"); currentStreaming = true;

  try {
    // call proxy
    const resp = await fetch("/api/generate", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ prompt, model, temperature }),
      signal
    });

    if(!resp.ok){
      const errText = await resp.text();
      throw new Error("API error: " + resp.status + " " + errText.slice(0,300));
    }

    const json = await resp.json();
    const finalText = json?.text ?? (typeof json === "string" ? json : JSON.stringify(json).slice(0,1000));

    // typewriter reveal
    const msPerChar = 10; // tweak for speed
    let i = 0;
    contentDiv.innerHTML = ""; // clear
    while(i < finalText.length){
      if(signal.aborted) throw new DOMException("aborted","AbortError");
      const chunk = finalText.slice(i, i+3);
      contentDiv.innerHTML += escapeHTML(chunk);
      i += 3;
      el.chatBox.scrollTop = el.chatBox.scrollHeight;
      await new Promise(r => setTimeout(r, msPerChar));
    }

    // finalize
    contentDiv.innerHTML = escapeHTML(finalText);
    // update history
    const idx = s.history.findIndex(x=>x.id===placeholder.id);
    if(idx !== -1){ s.history[idx].text = finalText; s.history[idx].time = Date.now(); save(); }
    setStatus("Ready");
  } catch(err){
    if(err && err.name === "AbortError"){
      contentDiv.innerHTML = "‚ö†Ô∏è Generation stopped.";
      setStatus("Stopped");
    } else {
      console.error("Fetch error:", err);
      contentDiv.innerHTML = "‚ö†Ô∏è Error generating response.";
      setStatus("Error");
    }
  } finally {
    currentStreaming = false;
    el.stopBtn.classList.add("hidden");
    abortController = null;
  }
}

/* regenerate in-place for a bot message */
async function regenerateMessage(botMsgId, prompt, existingWrap){
  const s = getActive(); if(!s) return;
  const idx = s.history.findIndex(h=>h.id === botMsgId);
  if(idx === -1) return;
  const contentDiv = existingWrap.querySelector(".content");
  if(!contentDiv) return;

  // abort previous
  if(abortController){ try{ abortController.abort(); } catch(e){} abortController = null; }
  abortController = new AbortController();
  const signal = abortController.signal;
  el.stopBtn.classList.remove("hidden"); setStatus("Regenerating‚Ä¶"); currentStreaming = true;

  try {
    const resp = await fetch("/api/generate", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ prompt, model: el.modelSel.value, temperature: el.tempRange.value }),
      signal
    });
    if(!resp.ok){ const t = await resp.text(); throw new Error("API error: " + t); }
    const json = await resp.json();
    const finalText = json?.text ?? JSON.stringify(json).slice(0,1000);

    // typewriter into existing bubble
    let built = "";
    const ms = 10;
    let i = 0;
    contentDiv.innerHTML = "";
    while(i < finalText.length){
      if(signal.aborted) throw new DOMException("aborted","AbortError");
      built += finalText.slice(i, i+3); i += 3;
      contentDiv.innerHTML = escapeHTML(built);
      el.chatBox.scrollTop = el.chatBox.scrollHeight;
      await new Promise(r => setTimeout(r, ms));
    }
    // persist in history
    s.history[idx].text = finalText; s.history[idx].time = Date.now(); save();
    setStatus("Ready");
  } catch(err){
    if(err && err.name === "AbortError"){
      contentDiv.innerHTML = "‚ö†Ô∏è Regeneration stopped.";
      setStatus("Stopped");
    } else {
      contentDiv.innerHTML = "‚ö†Ô∏è Error during regeneration.";
      setStatus("Error");
      console.error(err);
    }
  } finally {
    currentStreaming = false;
    el.stopBtn.classList.add("hidden");
    abortController = null;
  }
}

/* --------------- Commands & UI helpers --------------- */
function handleCommand(text){
  const [cmd, ...rest] = text.trim().split(/\s+/);
  const arg = rest.join(" ").trim();
  switch(cmd.toLowerCase()){
    case "/help":
      alert("Commands:\n/help\n/clear\n/system <text>\n/tone <neutral|friendly|formal|playful>");
      break;
    case "/clear":
      if(confirm("Clear conversation view? (history persists)")){
        el.chatBox.innerHTML = ""; loadSession(getActive());
      }
      break;
    case "/system":
      if(arg){ flash("System updated"); } else alert("Usage: /system <text>");
      break;
    case "/tone":
      if(arg){ flash("Tone set to "+arg); } else alert("Usage: /tone <tone>");
      break;
    default:
      flash("Unknown command: " + cmd);
  }
}

function flash(t, ms=1200){ const prev = el.status.textContent; el.status.textContent = t; setTimeout(()=> el.status.textContent = prev, ms); }

/* --------------- Input handlers --------------- */
el.sendBtn.addEventListener("click", onSend);
el.userInput.addEventListener("keydown", (e)=>{ if(e.key==='Enter' && !e.shiftKey){ e.preventDefault(); onSend(); } });

async function onSend(){
  const text = el.userInput.value.trim();
  if(!text) return;
  if(text.startsWith("/")){ handleCommand(text); el.userInput.value=""; return; }
  if(currentStreaming){ flash("Generation in progress ‚Äî stop first or wait"); return; }
  addUserMessage(text);
  el.userInput.value = "";
  // call proxy & type
  await fetchGeminiAndType(text, { model: el.modelSel.value, temperature: el.tempRange.value });
}

/* stop button */
el.stopBtn.addEventListener("click", ()=>{
  if(abortController){ abortController.abort(); flash("Stopping‚Ä¶"); }
});

/* quick chips */
document.querySelectorAll(".quick-chip").forEach(b => b.addEventListener("click", ()=>{
  el.userInput.value = b.textContent.trim(); el.userInput.focus();
}));

/* export markdown */
el.exportMd.addEventListener("click", ()=>{
  const s = getActive(); if(!s) return flash("No active session");
  let md = `# ${s.name}\n\n`;
  s.history.forEach(h=> md += `**${h.type.toUpperCase()}** ${new Date(h.time).toLocaleString()}\n\n${h.text}\n\n---\n\n`);
  const blob = new Blob([md], {type: "text/markdown"});
  const url = URL.createObjectURL(blob);
  const a = document.createElement("a"); a.href = url; a.download = `${s.name.replace(/\s+/g,'_').slice(0,60)||'session'}.md`; a.click(); URL.revokeObjectURL(url);
});

/* clear chat view */
el.clearChat.addEventListener("click", ()=>{
  if(!getActive()) return flash("No active session");
  if(!confirm("Clear current session view? This does not delete the session.")) return;
  el.chatBox.innerHTML = ""; loadSession(getActive());
});

/* sidebar toggle for mobile */
el.sidebarToggle.addEventListener("click", ()=> {
  el.sidebar.classList.toggle("hidden");
});

/* temp display */
el.tempRange.addEventListener("input", (e)=> el.tempVal.textContent = e.target.value);

/* --------------- Init (bootstrap) --------------- */
if(!sessions || sessions.length === 0){
  createSession("New Chat");
} else {
  activeSessionId = sessions[0].id;
  renderSessions();
  loadSession(getActive());
}

/* focus */
el.userInput.focus();

/* save on unload as extra safety */
window.addEventListener("beforeunload", ()=> save());

/* ====================================================
  FINAL NOTES (strict):
  - This is strictly HTML/CSS/JS only on the client side.
  - To actually fetch Gemini responses securely you MUST host a server-side proxy at POST /api/generate.
    It should accept { prompt, model, temperature } and return JSON { text }.
  - If you want, I will produce the minimal Node/Express proxy that you run locally or deploy ‚Äî
    it will hold the GEMINI API key server-side and forward responses. This is required for production.
  - I refuse to embed or advise embedding your API key into client JS for security reasons.
  ==================================================== */
</script>
</body>
</html>