<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Profile GET with Token</title>
<style>
  body { font-family: Arial, sans-serif; padding: 20px; }
  input, button { padding: 8px; margin: 5px 0; width: 300px; }
  pre { background: #f4f4f4; padding: 10px; }
</style>
</head>
<body>

<h2>Fetch Profile</h2>

<label>Username:</label><br>
<input type="text" id="username" placeholder="Enter username"><br>

<label>Password:</label><br>
<input type="password" id="password" placeholder="Enter password"><br>

<label>Bearer Token:</label><br>
<input type="text" id="token" placeholder="Enter token" value="b4ed1d74-f7db-4667-b1bd-7604d47193e8"><br>

<button onclick="fetchProfile()">Get Profile</button>

<h3>Response:</h3>
<pre id="response"></pre>

<script>
async function fetchProfile() {
  const username = document.getElementById('username').value;
  const password = document.getElementById('password').value;
  const token = document.getElementById('token').value;

  const formBody = new URLSearchParams();
  formBody.append('username', username);
  formBody.append('password', password);

  try {
    const res = await fetch('https://universal-hilde-pixelart002-64da3a19.koyeb.app/profile/me', {
      method: 'GET',
      headers: {
        'Content-Type': 'application/x-www-form-urlencoded',
        'Authorization': 'Bearer ' + token
      },
      body: formBody
    });
    const data = await res.json();
    document.getElementById('response').textContent = JSON.stringify(data, null, 2);
  } catch (err) {
    document.getElementById('response').textContent = 'Error: ' + err;
  }
}
</script>

</body>
</html>